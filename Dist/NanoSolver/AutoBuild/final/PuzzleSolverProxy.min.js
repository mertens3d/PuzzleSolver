/******/ (() => { // webpackBootstrap
/******/ 	"use strict";

// UNUSED EXPORTS: PuzzleSolverProxy

;// CONCATENATED MODULE: ./AutoBuild/TsTranspiled/PuzzleSolverProxy/scripts/StateHarvester.js
class OneColumnCount {
    constructor() {
        this.Counts = [];
    }
}
class OneRowCount {
    constructor() {
        this.Counts = [];
    }
}
class TableData {
    constructor() {
        this.Rows = [];
        this.Columns = [];
    }
}
class StateHarvester {
    constructor() {
        console.log('StateHarvester ctor');
        this.PuzzleDiv = this.GetPuzzleDiv();
        this.tableData = new TableData();
        this.GetColumnCounts();
        this.GetRowCounts();
        console.log(JSON.stringify(this.tableData));
    }
    GetPuzzleDiv() {
        const puzzleDiv = document.querySelector('#puzzlediv');
        console.log(puzzleDiv);
        return puzzleDiv;
    }
    GetRowCounts() {
        console.log('GetRowCounts');
        const allRowCounts = [];
        const firstColumnTds = this.PuzzleDiv.querySelectorAll('tr:not(:first-child) > td:first-child');
        firstColumnTds.forEach((td) => {
            const innerHtml = td.innerHTML;
            const rowCountsAr = innerHtml.split('&nbsp;');
            const oneRowCount = [];
            for (var idx = 0; idx < rowCountsAr.length; idx++) {
                const candidate = parseInt(rowCountsAr[idx]);
                if (candidate) {
                    oneRowCount.push(candidate);
                }
            }
            this.tableData.Rows.push(oneRowCount);
        });
        console.log(JSON.stringify(this.tableData));
    }
    GetColumnCounts() {
        console.log('getColumnCounts');
        const allColumnCounts = [];
        const firstRow = this.PuzzleDiv.querySelector('tr');
        if (firstRow) {
            console.log('FirstRow');
            const allFirstRowTd = firstRow.querySelectorAll('td');
            console.log(allFirstRowTd);
            allFirstRowTd.forEach((td) => {
                const innerHtml = td.innerHTML;
                const ColCountsAr = innerHtml.split('<br>');
                const oneColumnCount = [];
                for (var idx = 0; idx < ColCountsAr.length; idx++) {
                    const candidate = parseInt(ColCountsAr[idx]);
                    if (candidate) {
                        oneColumnCount.push(candidate);
                    }
                }
                this.tableData.Columns.push(oneColumnCount);
            });
        }
    }
}

;// CONCATENATED MODULE: ./AutoBuild/TsTranspiled/PuzzleSolverProxy/scripts/PuzzleSolverProxy.js
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};

class PuzzleSolverProxy {
    constructor() {
        console.log('dog');
        browser.runtime.onMessage.addListener((request) => this.RespondToPopUprequest(request));
    }
    RespondToPopUprequest(request) {
        console.log('popup message received');
        console.log(request);
        const state = new StateHarvester();
    }
    StartUp() {
        return __awaiter(this, void 0, void 0, function* () {
            console.log('dog');
        });
    }
}
let PuzzleSolverProxyEntry = new PuzzleSolverProxy();
PuzzleSolverProxyEntry.StartUp();
console.log('content loaded');

/******/ })()
;